Include %occInclude

/// Simple example of installation instructions (Manifest)
Class REST.Manifest
{

Parameter SourceDir = {$system.Util.GetEnviron("INIT_DIR") _ "/src"};

XData Manifest [ XMLNamespace = INSTALLER ]
{
<Manifest>
    <Var Name="NAMESPACE" Value="DEMO"/> 
    <Log Level="3" Text="Start manifest" />
    <Namespace Name="${NAMESPACE}" Code="${NAMESPACE}" Data="${NAMESPACE}">
        <Configuration>
            <Database Name="${NAMESPACE}" Dir="${MGRDIR}/${NAMESPACE}"/>
        </Configuration>
        <Import File="${#SourceDir}"/>
        <Production Name="Demo.Production" AutoStart="1"/>
    </Namespace>
    <Log Level="3" Text="End manifest" />
</Manifest>
}

/// This is a method generator whose code is generated by XGL.
ClassMethod setup(ByRef pVars, pLogLevel As %Integer = 3, pInstaller As %Installer.Installer, pLogger As %Installer.AbstractLogger) As %Status [ CodeMode = objectgenerator, Internal ]
{
    #; Let our XGL document generate code for this method.
    quit ##class(%Installer.Manifest).%Generate(%compiledclass, %code, "Manifest")
}

}
